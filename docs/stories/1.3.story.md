# Story 1.3: Display Project List

**Status**: Approved

**Story**:
As a user, I want to see a list of all my Honeycomb projects after I connect my wallet, so that I can get an immediate overview of my assets.

**Acceptance Criteria**:
1.  Upon successful wallet connection, the application makes a GraphQL query to the Honeycomb API's `project` endpoint, using the **public key from the connected wallet** as the `authority`.
2.  If the API call is successful, the dashboard displays a list of projects, showing at least the project name.
3.  If the user has no projects, a message is displayed indicating "No projects found."
4.  If the API call fails, a user-friendly error message is displayed.

**Dev Notes**:

*   **Previous Story Insights**:
    *   The frontend authentication is handled by the Solana Wallet Adapter (`@solana/wallet-adapter-react`, `@solana/wallet-adapter-react-ui`).
    *   A `useAuth` hook at `app/client/src/services/useAuth.ts` provides the connected wallet's context, including the public key, which is required for the API call. [Source: docs/stories/1.2.story.md]
*   **Data Models**:
    *   The `HoneycombProject` interface will be used. It should be defined in a shared location. [Source: docs/architecture/data-models.md]
        ```typescript
        export interface HoneycombProject {
          address: string;
          authority: string;
          name: string;
        }
        ```
*   **API Specifications**:
    *   The frontend should not call the Honeycomb API directly. It must go through the BFF. [Source: docs/architecture/coding-standards.md]
    *   The BFF will expose a REST endpoint: `GET /api/projects`. [Source: docs/architecture/api-specification.md]
    *   The BFF's `Honeycomb API Client` service is responsible for making the actual GraphQL query to the external Honeycomb API. [Source: docs/architecture/components.md]
*   **Component Specifications**:
    *   A new `ProjectList` component needs to be created to display the projects. This component will be part of the `Project Management UI`. [Source: docs/architecture/components.md]
*   **File Locations**:
    *   Shared Interface: `app/shared/src/types/honeycomb.ts`
    *   BFF Route: `app/server/src/routes/projects.ts`
    *   BFF API Client: `app/server/src/services/honeycombApi.ts`
    *   Frontend Feature Folder: `app/client/src/features/projects/`
    *   Frontend Component: `app/client/src/features/projects/components/ProjectList.tsx`
    *   Frontend Service: `app/client/src/features/projects/services/projectService.ts`
    *   Frontend State: A new Zustand store for projects at `app/client/src/features/projects/stores/projectStore.ts`
    *   [Source: docs/architecture/unified-project-structure.md, docs/architecture/frontend-architecture.md]
*   **Technical Constraints**:
    *   Use Zustand for managing the list of projects on the frontend. [Source: docs/architecture/tech-stack.md]
    *   The BFF route should be implemented using Hono. [Source: docs/architecture/tech-stack.md]

**Tasks / Subtasks**:

*   Task 1 (AC: 1): **Backend - BFF**
    *   [ ] Subtask 1.1: Create the shared `HoneycombProject` interface in `app/shared/src/types/honeycomb.ts`.
    *   [ ] Subtask 1.2: Implement the `GET /api/projects` route in `app/server/src/routes/projects.ts`. This route will extract the user's public key from a header or cookie.
    *   [ ] Subtask 1.3: In the `Honeycomb API Client` service (`app/server/src/services/honeycombApi.ts`), create a function to execute the GraphQL query to the Honeycomb API's `project` endpoint, passing the user's public key as the `authority`.
*   Task 2 (AC: 1, 2, 3, 4): **Frontend - Data & Services**
    *   [ ] Subtask 2.1: Create a new Zustand store at `app/client/src/features/projects/stores/projectStore.ts` to manage the project list, loading state, and error state.
    *   [ ] Subtask 2.2: Create a service at `app/client/src/features/projects/services/projectService.ts` with a function to call the BFF's `GET /api/projects` endpoint.
*   Task 3 (AC: 2, 3): **Frontend - UI**
    *   [ ] Subtask 3.1: Create the `ProjectList` component at `app/client/src/features/projects/components/ProjectList.tsx`.
    *   [ ] Subtask 3.2: The component should use the `useAuth` hook to get the wallet connection status.
    *   [ ] Subtask 3.3: When the wallet is connected, the component should call the `projectService` to fetch the projects.
    *   [ ] Subtask 3.4: Display a loading indicator while the API call is in progress.
    *   [ ] Subtask 3.5: If the call is successful, render the list of project names.
    *   [ ] Subtask 3.6: If the list is empty, display the "No projects found." message.
    *   [ ] Subtask 3.7: If the call fails, display a user-friendly error message.
